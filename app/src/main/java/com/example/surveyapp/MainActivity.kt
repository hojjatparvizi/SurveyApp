kotlin package com.example.surveyapp import android.os.Bundle import androidx.activity.ComponentActivity import androidx.activity.compose.setContent import androidx.compose.foundation.layout.* import androidx.compose.material.* import androidx.compose.material.icons.Icons import androidx.compose.material.icons.filled.* import androidx.compose.runtime.* import androidx.compose.ui.Alignment import androidx.compose.ui.Modifier import androidx.compose.ui.graphics.Color import androidx.compose.ui.unit.dp import androidx.navigation.compose.* class MainActivity : ComponentActivity() { override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContent { // استفاده از تم تیره برای محیط‌های نقشه‌برداری MaterialTheme(colors = darkColors(primary = Color(0xFF2196F3))) { Surface(color = Color(0xFF121212)) { SurveyNavigation() } } } } } @Composable fun SurveyNavigation() { val navController = rememberNavController() Scaffold( bottomBar = { BottomNavigation(backgroundColor = Color(0xFF1E1E1E)) { val navBackStackEntry by navController.currentBackStackEntryAsState() val currentRoute = navBackStackEntry?.destination?.route val items = listOf( Triple("dashboard", "وضعیت", Icons.Default.SatelliteAlt), Triple("map", "نقشه", Icons.Default.Map), Triple("shamim", "شمیم", Icons.Default.CloudSync) ) items.forEach { (route, label, icon) -> BottomNavigationItem( icon = { Icon(icon, contentDescription = null) }, label = { Text(label) }, selected = currentRoute == route, onClick = { navController.navigate(route) { launchSingleTop = true } } ) } } } ) { padding -> NavHost(navController, startDestination = "dashboard", modifier = Modifier.padding(padding)) { composable("dashboard") { DashboardScreen() } composable("map") { MapSurveyScreen() } composable("shamim") { ShamimSettingsScreen() } } } } @Composable fun DashboardScreen() { Column(modifier = Modifier.fillMaxSize().padding(16.dp), horizontalAlignment = Alignment.End) { Text("داشبورد وضعیت GNSS", style = MaterialTheme.typography.h5, color = Color.White) Spacer(modifier = Modifier.height(20.dp)) Card(backgroundColor = Color(0xFF1E1E1E), modifier = Modifier.fillMaxWidth()) { Column(modifier = Modifier.padding(16.dp)) { Text("وضعیت شمیم: FIXED", color = Color.Green) Text("دقت افقی: 0.011 m", color = Color.White) Text("دقت عمودی: 0.019 m", color = Color.White) Text("تعداد ماهواره‌ها: 26", color = Color.White) } } } } @Composable fun MapSurveyScreen() { Box(modifier = Modifier.fillMaxSize(), contentAlignment = Alignment.Center) { Text("نمای نقشه و برداشت نقطه", color = Color.Gray) Button( onClick = { /* ثبت نقطه در دیتابیس */ }, modifier = Modifier.align(Alignment.BottomCenter).padding(32.dp) ) { Text("برداشت نقطه جدید") } } } @Composable fun ShamimSettingsScreen() { var ip by remember { mutableStateOf("178.252.171.15") } Column(modifier = Modifier.fillMaxSize().padding(16.dp), horizontalAlignment = Alignment.End) { Text("تنظیمات سامانه شمیم", style = MaterialTheme.typography.h6, color = Color.White) OutlinedTextField( value = ip, onValueChange = { ip = it }, label = { Text("آدرس IP") }, modifier = Modifier.fillMaxWidth().padding(vertical = 8.dp) ) Button(onClick = { /* اتصال به NTRIP */ }, modifier = Modifier.fillMaxWidth()) { Text("برقراری اتصال به شمیم") } } } 
